var component=angular.module("mapComponent",[]);component.directive("map",function(){"use strict";var e=new google.maps.Geocoder,t,n,r,i,s;r={restrict:"EAC",scope:false,controller:function(e,t){e.destination="1600 Amphitheatre Parkway, Santa Clara County, CA";e.zoom=15;e.type="roadmap";e.markerContent="Google HQ"},replace:false,templateUrl:"mapTemplate.html",link:function(t,r,o){i=parseInt(o.zoom,10);t.init=function(){var r={zoom:o.zoom!==undefined?i:t.zoom,mapTypeId:o.type!==undefined?o.type.toLowerCase():"roadmap",streetViewControl:false};t.map=new google.maps.Map(document.getElementById("theMap"),r);t.endPoint=o.destination!==undefined?o.destination:"1600 Amphitheatre Parkway, Santa Clara County, CA";e.geocode({address:t.endPoint},function(e,r){var i=e[0].geometry.location;if(r===google.maps.GeocoderStatus.OK){t.map.setCenter(i);n=new google.maps.Marker({map:t.map,position:i,animation:google.maps.Animation.DROP});s=new google.maps.InfoWindow({content:o.markerContent!==undefined?o.markerContent:"Google HQ"});google.maps.event.addListener(n,"click",function(){return s.open(t.map,n)})}else{alert("Cannot Geocode")}})};t.init()}};return r});component.directive("directions",function(e){"use strict";var t=new google.maps.DirectionsRenderer,n=new google.maps.DirectionsService,r,i,s;r={restrict:"EAC",replace:true,templateUrl:"directTemplate.html",link:function(r,i){s=document.getElementById("directionsList");r.getDirections=function(){var e={origin:r.origin,destination:r.endPoint,travelMode:google.maps.DirectionsTravelMode.DRIVING};n.route(e,function(e,n){return n===google.maps.DirectionsStatus.OK?t.setDirections(e):console.warn(n)});t.setMap(r.map);t.setPanel(s);return r.isPanelSet=true};r.clearDirections=function(){r.init();t.setPanel(null);r.origin="";return r.isPanelSet=false};r.printDirections=function(){return e.print()}}};return r})
